.match $a $b
e   1 {{f}}
|g| * {{h}}
=== spans ===
                    .match $a $b↵e   1 {{f}}↵|g| * {{h}}
ComplexMessage      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Matcher             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
Variable                   ^^
Variable                      ^^
Variant                          ^^^^^^^^^^^
Text                             ^
Number                               ^
Number.integral                      ^
QuotedPattern                          ^^^^^
Pattern                                  ^
Text                                     ^
Variant                                      ^^^^^^^^^^^
Quoted                                       ^^^
Text                                          ^
Star                                             ^
QuotedPattern                                      ^^^^^
Pattern                                              ^
Text                                                 ^
=== diagnostics ===

=== ast ===
ComplexMessage {
    declarations: [],
    body: Matcher {
        start: @0,
        selectors: [
            Variable {
                span: @7..9,
                name: "a",
            },
            Variable {
                span: @10..12,
                name: "b",
            },
        ],
        variants: [
            Variant {
                keys: [
                    Text {
                        start: @13,
                        content: "e",
                    },
                    Number {
                        start: @17,
                        raw: "1",
                        is_negative: false,
                        integral_len: 1,
                        fractional_len: None,
                        exponent_len: None,
                    },
                ],
                pattern: QuotedPattern {
                    span: @19..24,
                    pattern: Pattern {
                        parts: [
                            Text {
                                start: @21,
                                content: "f",
                            },
                        ],
                    },
                },
            },
            Variant {
                keys: [
                    Quoted {
                        span: @25..28,
                        parts: [
                            Text {
                                start: @26,
                                content: "g",
                            },
                        ],
                    },
                    Star {
                        start: @29,
                    },
                ],
                pattern: QuotedPattern {
                    span: @31..36,
                    pattern: Pattern {
                        parts: [
                            Text {
                                start: @33,
                                content: "h",
                            },
                        ],
                    },
                },
            },
        ],
    },
}